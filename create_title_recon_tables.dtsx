<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="6/19/2024 10:38:38 AM"
  DTS:CreationName="Microsoft.Package"
  DTS:CreatorComputerName="UKWWHDSQLWI099"
  DTS:CreatorName="UK\PAM-WMS-Migration"
  DTS:DTSID="{B9EC0B81-8A9F-4C67-BD6F-C10DF8205B23}"
  DTS:ExecutableType="Microsoft.Package"
  DTS:LastModifiedProductVersion="16.0.5270.0"
  DTS:LocaleID="2057"
  DTS:ObjectName="Package"
  DTS:PackageType="5"
  DTS:VersionBuild="4"
  DTS:VersionGUID="{F5663F00-D279-4ECD-9C80-5DBAB0C62415}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">8</DTS:Property>
  <DTS:Variables />
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\Sequence Container"
      DTS:CreationName="STOCK:SEQUENCE"
      DTS:Description="Sequence Container"
      DTS:DTSID="{49EF6797-C572-4BFC-97CA-CAB4DDCACB8B}"
      DTS:ExecutableType="STOCK:SEQUENCE"
      DTS:LocaleID="-1"
      DTS:ObjectName="Sequence Container">
      <DTS:Variables />
      <DTS:Executables>
        <DTS:Executable
          DTS:refId="Package\Sequence Container\Reconcile Title Attributes"
          DTS:CreationName="Microsoft.ExecuteSQLTask"
          DTS:Description="Execute SQL Task"
          DTS:DTSID="{F297A561-469D-47B3-AA58-2F0A9377A1E7}"
          DTS:ExecutableType="Microsoft.ExecuteSQLTask"
          DTS:LocaleID="-1"
          DTS:ObjectName="Reconcile Title Attributes"
          DTS:ThreadHint="0">
          <DTS:Variables />
          <DTS:ObjectData>
            <SQLTask:SqlTaskData
              SQLTask:Connection="{0F1858FA-9831-4A0A-AF3C-9FACB1106C67}"
              SQLTask:SqlStatementSource="--REQ106 - Reconcile Important Title Attributes&#xA;DROP TABLE IF EXISTS ReconDB.dbo.reconcile_title_attributes;&#xA;GO&#xA;SELECT * INTO ReconDB.dbo.reconcile_title_attributes&#xA;FROM (&#xA;SELECT ilv.*&#xA;      ,CASE WHEN ilv.ISBN_SuppEd_match = 1 &#xA;&#x9;         AND ilv.ISBN_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.Author_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.finance_imprint_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.finance_publisher_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.commoditycode_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.binding_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.publicationprice_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.answercode_match = 1&#xA;&#x9;&#x9;&#x9; AND ilv.longdsc_match = 1 THEN 'Passed' ELSE 'Failed' END AS title_attributes_match_result&#xA;  FROM (&#xA;SELECT dim.*&#xA;     ,CASE WHEN dim.ISBN_SuppEd = dim.[Item Hierarchy] &#xA;&#x9;        AND dim.ISBN_SuppEd = dim.[Item Number] THEN 1 ELSE 0 END AS ISBN_SuppEd_match&#xA;     ,CASE WHEN dim.ISBN = dim.[Alternate Item Number] &#xA;&#x9;        AND dim.ISBN = dim.[Footprint Code] THEN 1 ELSE 0 END AS ISBN_match&#xA;     ,CASE WHEN dim.src_Author = dim.Author THEN 1 ELSE 0 END AS Author_match&#xA;     ,CASE WHEN dim.finance_imprint = dim.Imprint THEN 1 ELSE 0 END AS finance_imprint_match&#xA;     ,CASE WHEN dim.finance_publisher = dim.Publisher THEN 1 ELSE 0 END AS finance_publisher_match&#xA;     ,CASE WHEN dim.commodity_code = dim.[Commodity Code] THEN 1 ELSE 0 END AS commoditycode_match&#xA;     ,CASE WHEN dim.[Binding] = dim.[Item Family] THEN 1 ELSE 0 END AS binding_match&#xA;     --,CASE WHEN dim.[se_publication_date] = dim.Size THEN 1 ELSE 0 END AS publicationdate_match&#xA;     ,CASE WHEN CAST(dim.[se_publication_price] AS FLOAT) = CAST(dim.[Unit Cost] AS FLOAT) THEN 1 ELSE 0 END AS publicationprice_match&#xA;     ,CASE WHEN dim.[answer_code] = dim.Size THEN 1 ELSE 0 END AS answercode_match&#xA;     --,CASE WHEN dim.country_of_origin = dim.[Item Family] THEN 1 ELSE 0 END AS country_match&#xA;     --,CASE WHEN dim.commodity_code2 = dim. THEN 1 ELSE 0 END AS commoditycode2_match&#xA;     ,CASE WHEN dim.longdsc = dim.ftp_lngdsc AND dim.longdsc = dim.Description THEN 1 ELSE 0 END AS longdsc_match&#xA;     --,CASE WHEN dim.PackSize = dim.[Item Family] THEN 1 ELSE 0 END AS packsize_match&#xA;  FROM (&#xA;SELECT tit.run_id&#xA;     , tit.ISBN_SuppEd&#xA;     , tit.ISBN&#xA;&#x9; , tit.author AS src_Author&#xA;&#x9; , tit.finance_imprint&#xA;&#x9; , tit.finance_publisher&#xA;&#x9; , tit.commodity_code&#xA;&#x9; , tit.[Binding]&#xA;&#x9; , tit.se_publication_date&#xA;&#x9; , tit.se_publication_price&#xA;&#x9; , tit.answer_code&#xA;&#x9; , tit.country_of_origin&#xA;&#x9; , tit.[commodity_code2]&#xA;&#x9; --, tit.title_long_desc AS longdsc&#xA;&#x9; , REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(tit.title_long_desc,'&amp;amp;','&amp;'),'&amp;apos;',''''),'&amp;gt;','&gt;'),'&amp;lt;','&lt;'),'&amp;quot;','&quot;') AS longdsc&#xA;&#x9; , SUBSTRING(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(tit.title_long_desc,'&amp;amp;','&amp;'),'&amp;apos;',''''),'&amp;gt;','&gt;'),'&amp;lt;','&lt;'),'&amp;quot;','&quot;'),1,20) AS shortdsc&#xA;&#x9; --, CASE WHEN CHARINDEX('''',SUBSTRING(tit.title_long_desc,1,20)) &gt; 0&#xA;&#x9; --         OR CHARINDEX('&amp;',SUBSTRING(tit.title_long_desc,1,20)) &gt; 0&#xA;&#x9; --         OR CHARINDEX('&quot;',SUBSTRING(tit.title_long_desc,1,20)) &gt; 0&#xA;&#x9; --         OR CHARINDEX('&gt;',SUBSTRING(tit.title_long_desc,1,20)) &gt; 0&#xA;&#x9; --         OR CHARINDEX('&lt;',SUBSTRING(tit.title_long_desc,1,20)) &gt; 0&#xA;&#x9;&#x9;--&#x9;THEN REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(SUBSTRING(tit.title_long_desc,1,20),'&amp;','&amp;amp;'),'''','&amp;apos;'),'&gt;','&amp;gt;'),'&lt;','&amp;lt;'),'&quot;','&amp;quot;')&#xA;&#x9;&#x9;--&#x9;ELSE SUBSTRING(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(tit.title_long_desc,'&amp;','&amp;amp;'),'''','&amp;apos;'),'&gt;','&amp;gt;'),'&lt;','&amp;lt;'),'&quot;','&amp;quot;'),1,20) &#xA;&#x9;&#x9;--&#x9; END AS shortdsc&#xA;&#x9; , tit.PackSize&#xA;     , ldsm.[Author]&#xA;     , ldsm.[Imprint]&#xA;     , ldsm.[Publisher]&#xA;     , ldsm.[Item Number]&#xA;     , ldsm.[Commodity Code]&#xA;     , ldsm.[Item Family]&#xA;     , ldsm.[Unit Cost]&#xA;     , ldsm.[Receive Status]&#xA;     , ldsm.[Size]&#xA;     , ldsm.[Currency Code]&#xA;     , ldsm.[Display Item Number]&#xA;     , ldsm.[Item Hierarchy]&#xA;     , ldsm.[Description]&#xA;     , ldsm.[Alternate Item Type]&#xA;     , ldsm.[Alternate Item Number]&#xA;     , ldsm.[Footprint Code]&#xA;     , ldsm.[ftp_lngdsc]&#xA;     , ldsm.[errors]&#xA;     , ldsm.[Event Status]&#xA;     , ldsm.[Download Sequence]&#xA;     , ldsm.[Last Updated Date]&#xA;  FROM [transform].[title_load_results] ldsm&#xA;  JOIN [final].[titles] tit ON ldsm.event_prtnum = tit.ISBN_SuppEd&#xA; WHERE ldsm.[Download Sequence] IN (109725,109726) AND errors = '' AND ldsm.[Item Number] &lt;&gt; '9780241573372-UKS00201'&#xA; ) dim&#xA; ) ilv&#xA; ) ilv2;&#xA; GO" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Sequence Container\Reconcile Title Dimensions"
          DTS:CreationName="Microsoft.ExecuteSQLTask"
          DTS:Description="Execute SQL Task"
          DTS:DTSID="{8FD5FD32-B837-48D1-B049-3D7EF88FF918}"
          DTS:ExecutableType="Microsoft.ExecuteSQLTask"
          DTS:LocaleID="-1"
          DTS:ObjectName="Reconcile Title Dimensions"
          DTS:ThreadHint="0">
          <DTS:Variables />
          <DTS:ObjectData>
            <SQLTask:SqlTaskData
              SQLTask:Connection="{0F1858FA-9831-4A0A-AF3C-9FACB1106C67}"
              SQLTask:SqlStatementSource="--REQ107 : Reconcile Title Dimensions&#xA;DROP TABLE IF EXISTS  ReconDB.dbo.reconcile_title_dimensions;&#xA;GO&#xA;SELECT * INTO ReconDB.dbo.reconcile_title_dimensions&#xA;FROM (&#xA;SELECT ilv.*&#xA;      ,CASE WHEN each_len_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; each_wid_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; each_hgt_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; each_wgt_match = 1 AND&#xA;                 case_len_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; case_wid_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; case_hgt_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; case_wgt_match = 1 AND&#xA;                 pallet_len_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; pallet_wid_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; pallet_hgt_match = 1 AND&#xA;&#x9;&#x9;&#x9;&#x9; pallet_wgt_match = 1 THEN 'Passed' ELSE 'Failed' END AS all_title_dimensions_matched&#xA;  FROM (&#xA;SELECT dim.*&#xA;      ,CASE WHEN dim.len = dim.each_len THEN 1 ELSE 0 END AS each_len_match&#xA;      ,CASE WHEN dim.wid = dim.each_wid THEN 1 ELSE 0 END AS each_wid_match&#xA;      ,CASE WHEN dim.hgt = dim.each_hgt THEN 1 ELSE 0 END AS each_hgt_match&#xA;      ,CASE WHEN dim.wgt = dim.each_netwgt &#xA;&#x9;      AND dim.wgt = dim.each_grswgt THEN 1 ELSE 0 END AS each_wgt_match&#xA;      ,CASE WHEN dim.cs_len = dim.case_len THEN 1 ELSE 0 END AS case_len_match&#xA;      ,CASE WHEN dim.cs_wid = dim.case_wid THEN 1 ELSE 0 END AS case_wid_match&#xA;      ,CASE WHEN dim.cs_hgt = dim.case_hgt THEN 1 ELSE 0 END AS case_hgt_match&#xA;      ,CASE WHEN dim.cs_wgt = dim.case_netwgt &#xA;&#x9;      AND dim.cs_wgt = dim.case_grswgt THEN 1 ELSE 0 END AS case_wgt_match&#xA;      ,CASE WHEN dim.pa_len = dim.pallet_len THEN 1 ELSE 0 END AS pallet_len_match&#xA;      ,CASE WHEN dim.pa_wid = dim.pallet_wid THEN 1 ELSE 0 END AS pallet_wid_match&#xA;      ,CASE WHEN dim.pa_hgt = dim.pallet_hgt THEN 1 ELSE 0 END AS pallet_hgt_match&#xA;      ,CASE WHEN dim.pa_wgt = dim.pallet_netwgt &#xA;&#x9;      AND dim.cs_wgt = dim.case_grswgt THEN 1 ELSE 0 END AS pallet_wgt_match&#xA;  FROM (&#xA;SELECT tit.run_id&#xA;     , tit.ISBN_SuppEd&#xA;&#x9; , tit.BookDepth AS [len]&#xA;&#x9; , tit.BookWidth AS wid&#xA;&#x9; , tit.BookHeight AS hgt&#xA;&#x9; , tit.BookWeight AS wgt&#xA;&#x9; , tit.PackDepth AS cs_len&#xA;&#x9; , tit.PackWidth AS cs_wid&#xA;&#x9; , tit.PackHeight AS cs_hgt&#xA;&#x9; , tit.PackWeight AS cs_wgt&#xA;&#x9; , tit.PackSize AS untqty&#xA;&#x9; , 0 AS pa_len&#xA;&#x9; , 0 AS pa_wid&#xA;&#x9; , 0 AS pa_hgt&#xA;&#x9; , 0 AS pa_wgt&#xA;     , ldsm.[Item Number]&#xA;     , ldsm.[each_len]&#xA;     , ldsm.[each_wid]&#xA;     , ldsm.[each_hgt]&#xA;     , ldsm.[each_grswgt]&#xA;     , ldsm.[each_netwgt]&#xA;     , ldsm.[case_len]&#xA;     , ldsm.[case_wid]&#xA;     , ldsm.[case_hgt]&#xA;     , ldsm.[case_grswgt]&#xA;     , ldsm.[case_netwgt]&#xA;     , ldsm.[pallet_len]&#xA;     , ldsm.[pallet_wid]&#xA;     , ldsm.[pallet_hgt]&#xA;     , ldsm.[pallet_grswgt]&#xA;     , ldsm.[pallet_netwgt]&#xA;     , ldsm.[errors]&#xA;     , ldsm.[dwnld_info]&#xA;     , ldsm.[Event Status]&#xA;     , ldsm.[Download Sequence]&#xA;     , ldsm.[Last Updated Date]&#xA;     --, CASE WHEN ldsm.[Event Status] = 'Event Sent' THEN 'SUCCESS' ELSE 'ERROR' END AS bydata_load_status&#xA;  FROM [transform].[title_load_results] ldsm&#xA;   JOIN [final].[titles] tit ON ldsm.event_prtnum = tit.ISBN_SuppEd&#xA; WHERE ldsm.[Download Sequence] IN (109725,109726) AND errors = '' AND ldsm.[Item Number] &lt;&gt; '9780241573372-UKS00201'&#xA; ) dim&#xA; ) ilv&#xA; ) ilv2;&#xA;GO" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
          </DTS:ObjectData>
        </DTS:Executable>
      </DTS:Executables>
      <DTS:PrecedenceConstraints>
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Sequence Container.PrecedenceConstraints[Constraint]"
          DTS:CreationName=""
          DTS:DTSID="{CE53A39A-FC30-4A64-ABB6-04B178EAA898}"
          DTS:From="Package\Sequence Container\Reconcile Title Dimensions"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Constraint"
          DTS:To="Package\Sequence Container\Reconcile Title Attributes" />
      </DTS:PrecedenceConstraints>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="8">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="212,42"
          Id="Package\Sequence Container\Reconcile Title Dimensions"
          TopLeft="84,19" />
        <NodeLayout
          Size="201,42"
          Id="Package\Sequence Container\Reconcile Title Attributes"
          TopLeft="93,109" />
        <EdgeLayout
          Id="Package\Sequence Container.PrecedenceConstraints[Constraint]"
          TopLeft="191.75,61">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,48"
              Start="0,0"
              End="0,40.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,40.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <ContainerLayout
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="403,240"
          Size="403,283"
          Id="Package\Sequence Container"
          TopLeft="360,36" />
      </GraphLayout>
    </LayoutInfo>
  </Package>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>